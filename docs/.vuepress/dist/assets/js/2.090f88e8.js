(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{50:function(t,s,n){t.exports=n.p+"assets/img/vendor-small.83514171.png"},51:function(t,s,n){t.exports=n.p+"assets/img/vendor-big.94c1bc86.png"},61:function(t,s,n){"use strict";n.r(s);var a=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"按需加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按需加载","aria-hidden":"true"}},[t._v("#")]),t._v(" 按需加载")]),a("h2",{attrs:{id:"element-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#element-ui","aria-hidden":"true"}},[t._v("#")]),t._v(" Element-UI")]),a("p",[t._v("我找了很多相关文章，并没有详细说明该如何引入。所以我要拿出来将他说明：")]),a("p",[t._v("先来看下，如果不按需引入"),a("code",[t._v("vendor.js")]),t._v("的体积大小为：")]),a("p",[a("img",{attrs:{src:n(51),alt:"vendor-big"}})]),a("h3",{attrs:{id:"第一步，下载依赖："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步，下载依赖：","aria-hidden":"true"}},[t._v("#")]),t._v(" 第一步，下载依赖：")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 先下载element-ui\n\nnpm install element-ui --save\n\n# 如果使用按需引入，必须安装babel-plugin-component(官网有需要下载说明，此插件根据官网规则不同，安装插件不同)\n\nnpm install babel-plugin-component --save-dev\n")])]),a("p",[t._v("安装好以后，按照"),a("code",[t._v("nuxt.js")]),t._v("中的规则，你需要在 "),a("code",[t._v("plugins/")]),t._v(" 目录下创建相应的插件文件")]),a("p",[t._v("在文件根目录创建(或已经存在)"),a("code",[t._v("plugins/")]),t._v("目录，创建名为："),a("code",[t._v("element-ui.js")]),t._v("的文件，内容如下：")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Button "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'element-ui'")]),t._v("    "),a("span",{attrs:{class:"token comment"}},[t._v("//引入Button按钮")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Vue"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("use")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Button"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("h3",{attrs:{id:"第二步，引入插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步，引入插件","aria-hidden":"true"}},[t._v("#")]),t._v(" 第二步，引入插件")]),a("p",[t._v("在"),a("code",[t._v("nuxt.config.js")]),t._v("中，添加配置为:"),a("code",[t._v("plugins")])]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("css"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{attrs:{class:"token string"}},[t._v("'element-ui/lib/theme-chalk/index.css'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nplugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{attrs:{class:"token string"}},[t._v("'~/plugins/element-ui'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),a("p",[t._v("默认为：开启SSR,采用服务端渲染，也可以"),a("strong",[t._v("手动配置关闭SSR")]),t._v("，配置为：")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("css"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{attrs:{class:"token string"}},[t._v("'element-ui/lib/theme-chalk/index.css'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nplugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        src"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'~/plugins/element-ui'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ssr"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("    "),a("span",{attrs:{class:"token comment"}},[t._v("//关闭ssr")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),a("h3",{attrs:{id:"第三步，配置babel选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步，配置babel选项","aria-hidden":"true"}},[t._v("#")]),t._v(" 第三步，配置"),a("code",[t._v("babel")]),t._v("选项")]),a("p",[t._v("在"),a("code",[t._v("nuxt.config.js")]),t._v("中，配置在"),a("code",[t._v("build")]),t._v("选项中，规则为官网规则：")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\nbuild"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      babel"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("        "),a("span",{attrs:{class:"token comment"}},[t._v("//配置按需引入规则")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v('"plugins"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n              "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                  "),a("span",{attrs:{class:"token string"}},[t._v('"component"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                      "),a("span",{attrs:{class:"token string"}},[t._v('"libraryName"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"element-ui"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                      "),a("span",{attrs:{class:"token string"}},[t._v('"styleLibraryName"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"theme-chalk"')]),t._v("\n                  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n          "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("/*\n     ** Run ESLINT on save\n     */")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("extend")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isClient"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rules"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("push")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           enforce"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'pre'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           test"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token regex"}},[t._v("/\\.(js|vue)$/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           loader"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'eslint-loader'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           exclude"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token regex"}},[t._v("/(node_modules)/")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),a("p",[t._v("此时，我们在观察"),a("strong",[t._v("打包以后文件体积大小")]),t._v("，如图：")]),a("p",[a("img",{attrs:{src:n(50),alt:"vendor-small"}})]),a("p",[a("strong",[t._v("此时，我们成功完成了按需引入配置。")])]),a("h2",{attrs:{id:"待更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#待更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 待更新")]),a("h3",{attrs:{id:"其他方式待更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他方式待更新","aria-hidden":"true"}},[t._v("#")]),t._v(" 其他方式待更新")])])}],e=n(0),o=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},a,!1,null,null,null);s.default=o.exports}}]);