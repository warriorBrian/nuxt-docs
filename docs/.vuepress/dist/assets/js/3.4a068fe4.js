(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{52:function(t,s,a){t.exports=a.p+"assets/img/linux-server.2da411a6.png"},53:function(t,s,a){t.exports=a.p+"assets/img/windows-server.3a0097bd.png"},60:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"部署方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署方式","aria-hidden":"true"}},[t._v("#")]),t._v(" 部署方式")]),n("h2",{attrs:{id:"基础模板的部署方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础模板的部署方式","aria-hidden":"true"}},[t._v("#")]),t._v(" 基础模板的部署方式")]),n("h3",{attrs:{id:"第一步，打包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一步，打包","aria-hidden":"true"}},[t._v("#")]),t._v(" 第一步，打包")]),n("p",[t._v("在执行"),n("code",[t._v("npm run build")]),t._v("的时候，"),n("code",[t._v("nuxt")]),t._v("会自动打包")]),n("h3",{attrs:{id:"第二步，选择要部署的文件："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二步，选择要部署的文件：","aria-hidden":"true"}},[t._v("#")]),t._v(" 第二步，选择要部署的文件：")]),n("ul",[n("li",[n("code",[t._v(".nuxt/")]),t._v("文件夹")]),n("li",[n("code",[t._v("package.json")]),t._v("文件")]),n("li",[n("code",[t._v("nuxt.config.js")]),t._v("文件(如果你部署一些proxy，则需要上传这个文件，个人建议把它传上去)")])]),n("h3",{attrs:{id:"第三步，启动你的nuxt-重要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三步，启动你的nuxt-重要","aria-hidden":"true"}},[t._v("#")]),t._v(" 第三步，启动你的"),n("code",[t._v("nuxt")]),t._v("(重要)")]),n("p",[t._v("使用"),n("code",[t._v("pm2")]),t._v("启动你的"),n("code",[t._v("nuxt.js")])]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('$ pm2 start npm --name "demo" -- run start\n')])]),n("p",[n("strong",[t._v("在这里，我发现个问题，如果你使用"),n("code",[t._v("window server")]),t._v(" 服务器，在使用"),n("code",[t._v("pm2")]),t._v("启动时候，会出现错误，错误如下：")])]),n("p",[n("img",{attrs:{src:a(53),alt:"windows"}})]),n("p",[n("strong",[t._v("如果在"),n("code",[t._v("Linux")]),t._v("服务器下启动，同样的命令，同样的执行，则不会出现错误：")]),n("strong",[t._v("这里采用"),n("code",[t._v("Linux CentOS 7")])])]),n("p",[n("img",{attrs:{src:a(52),alt:"linux"}})]),n("p",[t._v("而在linux服务器上，我们可以使用如下方式进行启动:")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('$ pm2 start npm --name "demo" -- run start\n')])]),n("h2",{attrs:{id:"express-koa2-启动方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#express-koa2-启动方式","aria-hidden":"true"}},[t._v("#")]),t._v(" Express / koa2 启动方式")]),n("p",[t._v("所以，个人建议，在采用初始化模板的时候，请选用"),n("code",[t._v("express")]),t._v(" 或者 "),n("code",[t._v("koa")]),t._v(" 进行初始化，理由如下：")]),n("h3",{attrs:{id:"_1-选择要部署的文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-选择要部署的文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.选择要部署的文件")]),n("ul",[n("li",[n("code",[t._v(".nuxt/")]),t._v("文件夹")]),n("li",[n("code",[t._v("package.json")]),t._v("文件")]),n("li",[n("code",[t._v("build/")]),t._v("文件夹")]),n("li",[n("code",[t._v("nuxt.config.js")]),t._v("文件(如果你部署一些proxy，则需要上传这个文件，个人建议把它传上去)")])]),n("h3",{attrs:{id:"采用基础模板初始化，观察package-json的启动方式如下："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#采用基础模板初始化，观察package-json的启动方式如下：","aria-hidden":"true"}},[t._v("#")]),t._v(" 采用基础模板初始化，观察"),n("code",[t._v("package.json")]),t._v("的启动方式如下：")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token string"}},[t._v('"scripts"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token string"}},[t._v('"dev"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"nuxt"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"highlighted-line"}},[t._v("    "),n("span",{attrs:{class:"token string"}},[t._v('"build"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"nuxt build"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")])]),n("span",{attrs:{class:"highlighted-line"}},[t._v("    "),n("span",{attrs:{class:"token string"}},[t._v('"start"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"nuxt start"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")])]),t._v("    "),n("span",{attrs:{class:"token string"}},[t._v('"generate"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"nuxt generate"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token string"}},[t._v('"lint"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"eslint --ext .js,.vue --ignore-path .gitignore ."')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token string"}},[t._v('"precommit"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"npm run lint"')]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("h3",{attrs:{id:"采用express-koa初始化模板，观察package-json的启动方式如下："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#采用express-koa初始化模板，观察package-json的启动方式如下：","aria-hidden":"true"}},[t._v("#")]),t._v(" 采用express/koa初始化模板，观察"),n("code",[t._v("package.json")]),t._v("的启动方式如下：")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token string"}},[t._v('"scripts"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token string"}},[t._v('"dev"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"backpack dev"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"highlighted-line"}},[t._v("    "),n("span",{attrs:{class:"token string"}},[t._v('"build"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"nuxt build && backpack build"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")])]),n("span",{attrs:{class:"highlighted-line"}},[t._v("    "),n("span",{attrs:{class:"token string"}},[t._v('"start"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"cross-env NODE_ENV=production node build/main.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")])]),t._v("    "),n("span",{attrs:{class:"token string"}},[t._v('"precommit"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"npm run lint"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token string"}},[t._v('"lint"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"eslint --ext .js,.vue --ignore-path .gitignore ."')]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("p",[t._v("在"),n("code",[t._v("start")]),t._v("中，对比下，个人觉得"),n("code",[t._v("express/koa")]),t._v("更灵活一些，它直接启动了"),n("code",[t._v("build/main.js")]),t._v("文件，更能直观的启动方式，而关键在于，也可以在"),n("code",[t._v("windows server")]),t._v("下运行起来。")]),n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),n("p",[t._v("注意事项：如果采用"),n("code",[t._v("express/koa")]),t._v("的模板初始化，服务器部署的时候，同时要上传"),n("code",[t._v("build/")]),t._v("目录！！！")])])])}],e=a(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=r.exports}}]);